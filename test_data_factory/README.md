# üè≠ –§–∞–±—Ä–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–§–∞–±—Ä–∏–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–Ω–∏–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
test_data_factory/
‚îú‚îÄ‚îÄ README.md                          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ PLAN.md                            # –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ factory.py                         # –ì–ª–∞–≤–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
‚îú‚îÄ‚îÄ data/                              # JSON –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ russian_publishers_unified.json
‚îÇ   ‚îî‚îÄ‚îÄ russian_authors_batch1_structured.json
‚îú‚îÄ‚îÄ generators/                        # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ publishers_loader.py           # –ó–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤
‚îÇ   ‚îú‚îÄ‚îÄ authors_loader.py              # –ó–∞–≥—Ä—É–∑—á–∏–∫ –∞–≤—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ titles_generator.py            # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ image_generator.py             # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ book_generator.py              # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥
‚îî‚îÄ‚îÄ generated_images/                  # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≤ .gitignore)
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ (–¥–ª—è –¥–µ–ø–ª–æ—è)

–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑ JSON –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ –Ω–∞ —á–∏—Å—Ç—É—é –ë–î.

```bash
python manage.py load_authors_and_publishers
```

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–Ω–∏–≥

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–∏–≥–∏ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3 –∫–Ω–∏–≥–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py generate_test_books

# –£–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
python manage.py generate_test_books --count-per-category 5

# –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–Ω–∏–≥–∏ –º–µ–∂–¥—É –Ω–∏–º–∏
python manage.py generate_test_books --create-users 4 --libraries-per-user 2 --distribute-books

# –£–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É
python manage.py generate_test_books --user-id 1 --library-id 2
```

## üìä –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

### –ö–Ω–∏–≥–∏
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥
- –í—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –í—Å–µ –∞–≤—Ç–æ—Ä—ã –∏–∑ JSON –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑
- –í—Å–µ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑ JSON –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `--distribute-books` –∫–Ω–∏–≥–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `--create-users` —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–ø–∞—Ä–∞–º–µ—Ç—Ä `--libraries-per-user`)
- –ö–Ω–∏–≥–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –≤ –ø–æ—Ä—è–¥–∫–µ round-robin

### –•—ç—à—Ç–µ–≥–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è 20 —Ö—ç—à—Ç–µ–≥–æ–≤
- –•—ç—à—Ç–µ–≥–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ 50% –∫–Ω–∏–≥
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—ç—à—Ç–µ–≥–æ–≤ –Ω–∞ –∫–Ω–∏–≥—É: –æ—Ç 1 –¥–æ 20 (—Å–ª—É—á–∞–π–Ω–æ)

### –û—Ç–∑—ã–≤—ã
- –û—Ç–∑—ã–≤—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–ª—è 40% –∫–Ω–∏–≥
- –†–µ–π—Ç–∏–Ω–≥: –æ—Ç 1 –¥–æ 5 (—Å–ª—É—á–∞–π–Ω–æ)
- –¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –î–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–∏–≥–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (order=1): –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π —Ñ–æ–Ω + –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º
- –û—Å—Ç–∞–ª—å–Ω—ã–µ (order=2, 3): –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–Ω—ã–µ —Ñ–æ–Ω—ã
- –†–∞–∑–º–µ—Ä: 800x1200 –ø–∏–∫—Å–µ–ª–µ–π (–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è)

### –ê–≤—Ç–æ—Ä—ã –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ë–î –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ (–ø–æ `full_name` –¥–ª—è –∞–≤—Ç–æ—Ä–æ–≤, –ø–æ `name` –¥–ª—è –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–∞–∑
2. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –ù–∞–∑–≤–∞–Ω–∏—è –∫–Ω–∏–≥, –æ–ø–∏—Å–∞–Ω–∏—è –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
4. **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

## üìù –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `Pillow` - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- Django –º–æ–¥–µ–ª–∏ –∏–∑ `books.models`

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ - –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–Ω–∏–≥–∏ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
- –ê–≤—Ç–æ—Ä—ã –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ë–î (—ç—Ç–æ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `generated_images/` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ—Ä—ã (russian_authors_batch1_structured.json)
```json
{
  "–§–∞–º–∏–ª–∏—è": "–ü—É—à–∫–∏–Ω",
  "–ò–º—è": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä",
  "–û—Ç—á–µ—Å—Ç–≤–æ": "–°–µ—Ä–≥–µ–µ–≤–∏—á",
  "–≥–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è": 1799,
  "–≥–æ–¥ —Å–º–µ—Ä—Ç–∏": 1837,
  "–∫–æ—Ä–æ—Ç–∫–∞—è –±–∏–æ–≥—Ä–∞—Ñ–∏—è": "..."
}
```

### –ò–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (russian_publishers_unified.json)
```json
{
  "–ù–∞–∑–≤–∞–Ω–∏–µ": "–ê–°–¢",
  "–ì–æ—Ä–æ–¥": "–ú–æ—Å–∫–≤–∞",
  "—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç": "https://ast.ru/",
  "–û–ø–∏—Å–∞–Ω–∏–µ": "..."
}
```

---

## üè∑Ô∏è –•—ç—à—Ç–µ–≥–∏

–§–∞–±—Ä–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç 20 —Ö—ç—à—Ç–µ–≥–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –∫ –ø–æ–ª–æ–≤–∏–Ω–µ –∫–Ω–∏–≥:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—ç—à—Ç–µ–≥–æ–≤ –Ω–∞ –∫–Ω–∏–≥—É: –æ—Ç 1 –¥–æ 20 (—Å–ª—É—á–∞–π–Ω–æ)
- –•—ç—à—Ç–µ–≥–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ 50% –∫–Ω–∏–≥
- –•—ç—à—Ç–µ–≥–∏: –∫–ª–∞—Å—Å–∏–∫–∞, —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –¥–µ—Ç–µ–∫—Ç–∏–≤, —Ä–æ–º–∞–Ω, –∏—Å—Ç–æ—Ä–∏—è, –±–∏–æ–≥—Ä–∞—Ñ–∏—è, –ø–æ—ç–∑–∏—è, –¥—Ä–∞–º–∞, –∫–æ–º–µ–¥–∏—è, —Ç—Ä–∏–ª–ª–µ—Ä, —É–∂–∞—Å—ã, –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è, —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è, –Ω–∞—É–∫–∞, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –ª—é–±–æ–≤–Ω—ã–π_—Ä–æ–º–∞–Ω, –≤–æ–µ–Ω–Ω—ã–π_—Ä–æ–º–∞–Ω, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è_–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞, –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç

## üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–Ω–∏–≥ –ø–µ—Ä–µ–¥ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
python manage.py delete_all_books --confirm
```

**–í–∞–∂–Ω–æ:** –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–Ω–∏–≥–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ—Ç–∑—ã–≤—ã), –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-15

