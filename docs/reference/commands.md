# üõ† Management Commands

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### sync_categories

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ JSON —Ñ–∞–π–ª–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python manage.py sync_categories
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ `books/data/categories.json`
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ (–ø–æ –∫–æ–¥—É)
- –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: —Å–∫–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–æ, —Å–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

**–§–æ—Ä–º–∞—Ç JSON —Ñ–∞–π–ª–∞:**
```json
{
  "categories": [
    {
      "code": "t2mv",
      "name": "2-—è –ú–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞ (1939-1945 –≥–≥.)",
      "slug": "2-ya-mirovaya-voyna",
      "icon": "üìö",
      "order": 1
    }
  ]
}
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìñ –ó–∞–≥—Ä—É–∂–µ–Ω–æ 212 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–∑ JSON
‚úÖ –°–æ–∑–¥–∞–Ω–∞: t2mv - 2-—è –ú–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞ (1939-1945 –≥–≥.)
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∞: tchina - –ê–∑–∏—è: –ö–∏—Ç–∞–π, –ú–æ–Ω–≥–æ–ª–∏—è
...
üìä –ò—Ç–æ–≥–æ: —Å–æ–∑–¥–∞–Ω–æ 29, –æ–±–Ω–æ–≤–ª–µ–Ω–æ 183 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
```

---

## –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Django –∫–æ–º–∞–Ω–¥—ã

### makemigrations
–°–æ–∑–¥–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–¥–µ–ª–µ–π.

```bash
python manage.py makemigrations books
```

### migrate
–ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏.

```bash
python manage.py migrate
```

### createsuperuser
–°–æ–∑–¥–∞–µ—Ç —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∞–¥–º–∏–Ω–∫–∏.

```bash
python manage.py createsuperuser
```

### shell
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç Django shell –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

```bash
python manage.py shell
```

### rebuild_category_hierarchy

–ü–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤–æ–µ—Ç–æ—á–∏–π –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
python manage.py rebuild_category_hierarchy --dry-run

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫—É
python manage.py rebuild_category_hierarchy

# –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é
python manage.py rebuild_category_hierarchy --reset

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –ø—É—Å—Ç—ã–º slug
python manage.py rebuild_category_hierarchy --fix-empty-slugs

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
python manage.py rebuild_category_hierarchy --check-duplicates
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –¥–≤–æ–µ—Ç–æ—á–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–µ—Ç—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞: –ü—Ä–æ–∑–∞")
- –°–æ–∑–¥–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ —á–∞—Å—Ç–∏ –¥–æ –¥–≤–æ–µ—Ç–æ—á–∏—è
- –°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ò—Å–∫—É—Å—Å—Ç–≤o" –∏ "–ò—Å–∫—É—Å—Å—Ç–≤–æ")

---

### delete_all_books

–£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫–Ω–∏–≥–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Ö—Ä–∞–Ω—è—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
python manage.py delete_all_books --confirm
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∫–Ω–∏–≥–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ—Ç–∑—ã–≤—ã)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –ü–æ–ª–µ–∑–Ω–æ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

### generate_test_books

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–Ω–∏–≥–∏ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3 –∫–Ω–∏–≥–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
python manage.py generate_test_books

# –£–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–∏–≥ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
python manage.py generate_test_books --count-per-category 10
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–Ω–∏–≥–∏ —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
- –î–æ–±–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ö—ç—à—Ç–µ–≥–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ—Ö –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏–∑–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑ JSON —Ñ–∞–π–ª–æ–≤

---

### runserver
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

```bash
python manage.py runserver
```

### collectstatic
–°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

```bash
python collectstatic
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-03

